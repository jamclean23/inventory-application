{"version":3,"file":"/homepage/homepage.js","mappings":"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","sources":["webpack://inventory-application/./src/homepage/homepage.js"],"sourcesContent":["// Javascript for homepage\n\n\n// ====== IMPORTS ======\n\n// Css\nimport './homepage.css'\n\n\n// ====== STATE ======\n\nlet spinning = false;\n\n\n// ====== MAIN =======\n\nmain();\n\n\n// ====== FUNCTIONS ======\n\nfunction main () {\n    setCssVars();\n    addListeners();\n    populateCheeses();\n}\n\nasync function populateCheeses () {\n    showLoading();\n    const cheesesObj = await find();\n    hideLoading();\n    createCheeseElements(cheesesObj);\n}\n\nasync function updateCheeses () {\n    clearCheeses();\n    showLoading();\n\n    // Navbar elements\n    const category = document.querySelector('#sort');\n    const sortOrder = document.querySelector('#sortOrder');\n    const keyword = document.querySelector('#keyword');\n\n    const cheesesObj = await find(category.value, sortOrder.value, keyword.value);\n\n    createCheeseElements(cheesesObj);\n    \n    hideLoading();\n}\n\nfunction clearCheeses () {\n    const cheesesContent = document.querySelector('.cheesesContent');\n    cheesesContent.innerHTML = '';\n}\n\nfunction showLoading () {\n\n    if (spinning) {\n        hideLoading();\n    }\n\n    spinning = true;\n    const loading = document.createElement('div');\n    loading.classList.add('loadingSpinner');\n    loading.innerText = `Loading`;\n    document.querySelector('.cheesesContent').appendChild(loading);\n    updateSpinner();\n}\n\nasync function updateSpinner (dots = 0) {\n    if (!spinning) {\n        return;\n    }\n    const spinner = document.querySelector('.loadingSpinner');\n\n    if (spinner) {\n        await timer();\n\n        if (dots > 2) {\n            spinner.innerText = 'Loading.';\n            dots = 0;\n        } else {\n            spinner.innerText += '.';\n        }\n        \n        updateSpinner(++dots);\n    } else {\n        return\n    }\n        function timer () {\n            return new Promise((resolve) => {\n            setTimeout(resolve, 500);\n        });\n    }\n}\n\nfunction hideLoading() {\n    spinning = false;\n    const loading = document.querySelector('.loadingSpinner');\n    if (loading) {\n        loading.remove();\n    }\n}\n\nfunction createCheeseElements (cheesesObj) {\n    const cheesesContent = document.querySelector('.cheesesContent');\n\n    const infoCard = document.createElement('article');\n    infoCard.classList.add('infoCard');\n    infoCard.innerText = `${cheesesObj.length} results`;\n    cheesesContent.appendChild(infoCard);\n\n    cheesesObj.forEach((cheese) => {\n        const newCard = document.createElement('article');\n        newCard.classList.add('cheeseCard');\n\n        const name = document.createElement('h3');\n        name.innerText = cheese.name;\n        newCard.appendChild(name);\n\n        const description = document.createElement('p');\n        description.innerText = cheese.description;\n        newCard.appendChild(description);\n\n        const category = document.createElement('p');\n        category.innerText = `Category: ${cheese.category}`\n        newCard.appendChild(category);\n\n        const region = document.createElement('p');\n        region.innerText = `Country: ${cheese.country_of_origin}`\n        newCard.appendChild(region);\n\n        const price = document.createElement('p');\n        price.innerText = `Price: $${cheese.price}`\n        newCard.appendChild(price);\n\n        const weight = document.createElement('p');\n        weight.innerText = `Weight: ${cheese.weight} oz`;\n        newCard.appendChild(weight);\n\n        const stock = document.createElement('p');\n        stock.innerText = `Current Stock: ${cheese.stock} units`;\n        newCard.appendChild(stock);\n\n        const id = document.createElement('p');\n        id.innerText = `Item Id: ${cheese._id}`;\n        newCard.appendChild(id);\n\n\n        cheesesContent.appendChild(newCard);\n    });\n}\n\nfunction setCssVars () {\n    const headerHeight = getHeaderHeight();\n    const navHeight = getNavHeight();\n    const root = document.querySelector(':root');\n    root.style.setProperty('--header-height', `${headerHeight}px`);\n    root.style.setProperty('--nav-height', `${navHeight}px`);\n\n}\n\nfunction getHeaderHeight () {\n    const header = document.querySelector('header');\n    return header.offsetHeight;\n}\n\nfunction getNavHeight () {\n    const nav = document.querySelector('.mainContentNav');\n    return nav.offsetHeight;\n}\n\nfunction addListeners () {\n    const logoutBtn = document.querySelector('#logoutBtn');\n    logoutBtn.addEventListener('click', handleLogoutClick);\n\n    const applyBtn = document.querySelector('#applyBtn');\n    applyBtn.addEventListener('click', handleApplyClick);\n\n    window.addEventListener('resize', handleResize);\n}\n\nasync function handleApplyClick () {\n\n    const applyBtn = document.querySelector('#applyBtn');\n    applyBtn.disabled = true;\n\n    await updateCheeses();\n\n    applyBtn.disabled = false;\n}\n\nasync function find (sortBy = 'name', sortDirection = 'ascending', keyword = '') {\n\n    const parameters = JSON.stringify({\n        \"sortBy\": sortBy,\n        \"sortDirection\": sortDirection,\n        \"keyword\": keyword\n    });\n\n    const results = await fetch('/db_query/find', {\n        method: \"GET\",\n        headers: {\n            parameters\n        }\n    });\n    const cheesesObj = await results.json();\n    return cheesesObj;\n}\n\nfunction handleResize () {\n    setCssVars();\n}\n\nasync function handleLogoutClick () {\n    window.location.replace(`${window.location.origin}/login/handleLogoutRequest`);\n}"],"names":["spinning","main","setCssVars","addListeners","populateCheeses","showLoading","cheesesObj","find","hideLoading","createCheeseElements","updateCheeses","clearCheeses","category","document","querySelector","sortOrder","keyword","value","cheesesContent","innerHTML","loading","createElement","classList","add","innerText","appendChild","updateSpinner","dots","spinner","timer","Promise","resolve","setTimeout","remove","infoCard","length","forEach","cheese","newCard","name","description","region","country_of_origin","price","weight","stock","id","_id","headerHeight","getHeaderHeight","navHeight","getNavHeight","root","style","setProperty","header","offsetHeight","nav","logoutBtn","addEventListener","handleLogoutClick","applyBtn","handleApplyClick","window","handleResize","disabled","sortBy","sortDirection","parameters","JSON","stringify","results","fetch","method","headers","json","location","replace","origin"],"sourceRoot":""}