{"version":3,"file":"/homepage/homepage.js","mappings":"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","sources":["webpack://inventory-application/./src/homepage/homepage.js"],"sourcesContent":["// Javascript for homepage\n\n\n// ====== IMPORTS ======\n\n// Css\nimport './homepage.css'\n\n\n// ====== MAIN =======\n\nmain();\n\n\n// ====== FUNCTIONS ======\n\nfunction main () {\n    setCssVars();\n    addListeners();\n    populateCheeses();\n}\n\nasync function populateCheeses () {\n    showLoading();\n    const cheesesObj = await findAll();\n    hideLoading();\n    createCheeseElements(cheesesObj);\n}\n\nfunction showLoading () {\n    const loading = document.createElement('div');\n    loading.classList.add('loadingSpinner');\n    loading.innerText = `Loading`;\n    document.querySelector('.cheesesContent').appendChild(loading);\n    updateSpinner();\n}\n\nasync function updateSpinner (dots = 0) {\n\n    const spinner = document.querySelector('.loadingSpinner');\n\n    if (spinner) {\n        await timer();\n        console.log('tick');\n        if (dots > 3) {\n            spinner.innerText = 'Loading';\n        } else {\n            spinner.innerText += '.';\n        }\n        updateSpinner(++dots);\n    } else {\n        return\n    }\n        function timer () {\n            return new Promise((resolve) => {\n            setTimeout(resolve, 500);\n        });\n    }\n}\n\nfunction hideLoading() {\n    const loading = document.querySelector('.loadingSpinner');\n    loading.remove();\n}\n\nfunction createCheeseElements (cheesesObj) {\n    const cheesesContent = document.querySelector('.cheesesContent');\n\n    const infoCard = document.createElement('article');\n    infoCard.classList.add('infoCard');\n    infoCard.innerText = `${cheesesObj.length} results`;\n    cheesesContent.appendChild(infoCard);\n\n    cheesesObj.forEach((cheese) => {\n        const newCard = document.createElement('article');\n        newCard.classList.add('cheeseCard');\n\n        const name = document.createElement('h3');\n        name.innerText = cheese.name;\n        newCard.appendChild(name);\n\n        const description = document.createElement('p');\n        description.innerText = cheese.description;\n        newCard.appendChild(description);\n\n        const category = document.createElement('p');\n        category.innerText = `Category: ${cheese.category}`\n        newCard.appendChild(category);\n\n        const region = document.createElement('p');\n        region.innerText = `Country: ${cheese.country_of_origin}`\n        newCard.appendChild(region);\n\n        const price = document.createElement('p');\n        price.innerText = `Price: $${cheese.price}`\n        newCard.appendChild(price);\n\n        const weight = document.createElement('p');\n        weight.innerText = `Weight: ${cheese.weight} oz`;\n        newCard.appendChild(weight);\n\n        const stock = document.createElement('p');\n        stock.innerText = `Current Stock: ${cheese.stock} units`;\n        newCard.appendChild(stock);\n\n        const id = document.createElement('p');\n        id.innerText = `Item Id: ${cheese._id}`;\n        newCard.appendChild(id);\n\n\n        cheesesContent.appendChild(newCard);\n    });\n}\n\nfunction setCssVars () {\n    const headerHeight = getHeaderHeight();\n    const navHeight = getNavHeight();\n    const root = document.querySelector(':root');\n    root.style.setProperty('--header-height', `${headerHeight}px`);\n    root.style.setProperty('--nav-height', `${navHeight}px`);\n\n}\n\nfunction getHeaderHeight () {\n    const header = document.querySelector('header');\n    return header.offsetHeight;\n}\n\nfunction getNavHeight () {\n    const nav = document.querySelector('.mainContentNav');\n    return nav.offsetHeight;\n}\n\nfunction addListeners () {\n    const logoutBtn = document.querySelector('#logoutBtn');\n    logoutBtn.addEventListener('click', handleLogoutClick);\n\n    const applyBtn = document.querySelector('#applyBtn');\n    applyBtn.addEventListener('click', handleApplyClick);\n\n    window.addEventListener('resize', handleResize);\n}\n\nasync function handleApplyClick () {\n    \n}\n\nasync function findAll () {\n    const results = await fetch('/db_query/find_all');\n    const cheesesObj = await results.json();\n    return cheesesObj;\n}\n\nfunction handleResize () {\n    setCssVars();\n}\n\nasync function handleLogoutClick () {\n    window.location.replace(`${window.location.origin}/login/handleLogoutRequest`);\n}"],"names":["main","setCssVars","addListeners","populateCheeses","showLoading","cheesesObj","findAll","hideLoading","createCheeseElements","loading","document","createElement","classList","add","innerText","querySelector","appendChild","updateSpinner","dots","spinner","timer","console","log","Promise","resolve","setTimeout","remove","cheesesContent","infoCard","length","forEach","cheese","newCard","name","description","category","region","country_of_origin","price","weight","stock","id","_id","headerHeight","getHeaderHeight","navHeight","getNavHeight","root","style","setProperty","header","offsetHeight","nav","logoutBtn","addEventListener","handleLogoutClick","applyBtn","handleApplyClick","window","handleResize","results","fetch","json","location","replace","origin"],"sourceRoot":""}